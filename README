# X2 LidarBot Maze Solver

An autonomous maze-solving robot built with **M5Stack** and an **X2 LiDAR sensor**, implementing a right-hand wall-following algorithm with intelligent path detection.

---

## Hardware Requirements

* **M5Stack Core** — Main controller
* **X2 LiDAR Sensor** — 360° distance sensing (connected via `Serial1`, pins **16/17**)
* **LidarCar Base** — Motor control platform

---

## Features

### Core Functionality

* **Autonomous Maze Navigation** — Right-hand wall-following algorithm
* **360° LiDAR Mapping** — Real-time environment visualization on the M5Stack display
* **Reflective Exit Detection** — Automatically detects maze completion using reflective markers
* **Data Filtering** — Interpolation algorithm removes noise and invalid readings

### Navigation Logic

The robot prioritizes paths in the following order:

1. **Right turn** (when available)
2. **Forward** (if right is blocked)
3. **Left turn** (if right and forward are blocked)
4. **U-turn** (dead end)

---

## Control Modes

### Manual Control

Navigate manually using keyboard commands:

* `W` — Forward
* `S` — Backward
* `A` — Turn left
* `D` — Turn right
* `X` — Stop

### Maze Mode

* `M` — Toggle autonomous maze solving on/off  
* Robot automatically navigates using the wall-following algorithm

### Calibration Mode

* `C` — Enter turn calibration mode
  * `1` — Test right 90° turn
  * `2` — Test left 90° turn
  * `3` — Test 180° turn
  * `+` — Increase turn duration by **100 ms**
  * `-` — Decrease turn duration by **100 ms**
  * `S` — Show current calibration values
  * `Q` — Exit calibration mode

---

## Configuration Parameters

### Detection Thresholds

```cpp
threshold_front = 105.0;    // Minimum distance to consider path open ahead (mm)
threshhold_sides = 150.0;   // Minimum distance for left/right openings (mm)
